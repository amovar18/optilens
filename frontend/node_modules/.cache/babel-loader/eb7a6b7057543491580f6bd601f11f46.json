{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const userAuth = createAsyncThunk('seller/userAuth', async ({\n  getState\n}) => {\n  const {\n    loginUsername,\n    loginPassword,\n    typeofuser\n  } = getState().authentication;\n\n  try {\n    const response = axios.post('http://localhost:5000/auth/signin', {\n      'username': loginUsername,\n      'password': loginPassword,\n      'typeofuser': typeofuser\n    }, {\n      withCredentials: true\n    });\n    return (await response).data;\n  } catch (err) {\n    return Promise.reject(401);\n  }\n});\nexport const checkUsernameAvailability = createAsyncThunk('seller/checkUsernameAvailability', async ({\n  getState\n}) => {\n  const {\n    Registration_username\n  } = getState().authentication;\n\n  if (Registration_username !== '') {\n    try {\n      const response = axios.get('http://localhost:5000/user/availability/' + Registration_username, {\n        withCredentials: true\n      });\n      return (await response).data;\n    } catch (err) {\n      return Promise.reject(401);\n    }\n  }\n});\nexport const createSeller = createAsyncThunk('seller/create', async ({\n  getState\n}) => {\n  const {\n    username,\n    password,\n    name,\n    email,\n    address,\n    phone,\n    owner\n  } = getState().seller;\n  const formData = new FormData();\n  formData.append('email', email);\n  formData.append('password', password);\n  formData.append('name', name);\n  formData.append('owner', owner);\n  formData.append('username', username);\n  formData.append('phone', phone);\n  formData.append('image', company_registration);\n\n  try {\n    const response = axios.post('http://localhost:5000/seller/create', {\n      'name': Registration_name,\n      'username': Registration_username,\n      'phone': Registration_phone,\n      'email': Registration_email,\n      'password': Registration_password,\n      'address': Registration_address\n    }, {\n      withCredentials: true\n    });\n    return (await response).data;\n  } catch (err) {\n    return Promise.reject(401);\n  }\n});\nexport const userDeauth = createAsyncThunk('seller/userDeauth', async () => {\n  try {\n    const response = await axios.get('http://localhost:5000/auth/signout', {\n      withCredentials: true\n    });\n    return response.status;\n  } catch (error) {\n    return Promise.reject(500);\n  }\n});\nconst authenticationSlice = createSlice({\n  name: 'authentication',\n  initialState: {\n    email: '',\n    password: '',\n    confirm_password: '',\n    type_of_user: '',\n    name: '',\n    owner: '',\n    username: '',\n    phone: '',\n    city: '',\n    state: '',\n    pincode: '',\n    address_line_1: '',\n    address_line_2: '',\n    area: '',\n    company_registration: '',\n    registrationError: '',\n    passwordMatch: '',\n    criteriaError: '',\n    availability: 'NaN'\n  },\n  reducers: {\n    setValue: (state, action) => {\n      state[action.payload.name] = action.payload.value;\n    },\n    setFile: (state, action) => {\n      state[action.payload.name] = action.payload.value;\n    },\n    setpasswordMatch: (state, action) => {\n      state.passwordMatch = action.payload.value;\n    },\n    setcriteriaError: (state, action) => {\n      state.criteriaError = action.payload.value;\n    },\n    setavailability: (state, action) => {\n      state.availability = action.payload.value;\n    }\n  },\n  extraReducers: {\n    [userAuth.fulfilled]: (state, action) => {\n      console.log(action);\n      state.user = action.payload.user;\n      state.links = action.payload.links;\n      console.log(state);\n      state.isAuthenticated = true;\n      return action.payload.status;\n    },\n    [userAuth.rejected]: (state, action) => {\n      state.error = true;\n    },\n    [userDeauth.fulfilled]: (state, action) => {\n      state.isAuthenticated = false;\n      state.user = action.payload.user;\n      state.links = action.payload.links;\n      return action.payload.status;\n    },\n    [userDeauth.rejected]: (state, action) => {\n      return action.payload;\n    },\n    [createCustomer.fulfilled]: (state, action) => {\n      state.isAuthenticated = true;\n      state.user = action.payload.user;\n      state.links = action.payload.links;\n      return action.payload.status;\n    },\n    [createCustomer.rejected]: (state, action) => {\n      state.registrationError = true;\n    },\n    [checkUsernameAvailability.fulfilled]: (state, action) => {\n      state.availability = action.payload;\n    },\n    [checkUsernameAvailability.rejected]: (state, action) => {\n      state.availability = false;\n    }\n  }\n});\nexport const {\n  setValue,\n  setFile,\n  setavailability,\n  setpasswordMatch,\n  setcriteriaError\n} = authenticationSlice.actions;\nexport default authenticationSlice.reducer;","map":{"version":3,"sources":["C:/Users/Geeta/opticonnect/frontend/src/slices/seller/sellerSlice.js"],"names":["createAsyncThunk","createSlice","axios","userAuth","getState","loginUsername","loginPassword","typeofuser","authentication","response","post","withCredentials","data","err","Promise","reject","checkUsernameAvailability","Registration_username","get","createSeller","username","password","name","email","address","phone","owner","seller","formData","FormData","append","company_registration","Registration_name","Registration_phone","Registration_email","Registration_password","Registration_address","userDeauth","status","error","authenticationSlice","initialState","confirm_password","type_of_user","city","state","pincode","address_line_1","address_line_2","area","registrationError","passwordMatch","criteriaError","availability","reducers","setValue","action","payload","value","setFile","setpasswordMatch","setcriteriaError","setavailability","extraReducers","fulfilled","console","log","user","links","isAuthenticated","rejected","createCustomer","actions","reducer"],"mappings":"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","sourcesContent":["import {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nexport const userAuth = createAsyncThunk(\r\n    'seller/userAuth',\r\n    async ( {getState} ) =>{\r\n        const {loginUsername,loginPassword,typeofuser} = getState().authentication;\r\n        try{\r\n            const response = axios.post('http://localhost:5000/auth/signin',{\r\n                'username':loginUsername,\r\n                'password':loginPassword,\r\n                'typeofuser':typeofuser\r\n            },{withCredentials:true});\r\n            return (await response).data;\r\n        }catch(err){\r\n            return Promise.reject(401);\r\n        }\r\n    }\r\n)\r\nexport const checkUsernameAvailability = createAsyncThunk(\r\n    'seller/checkUsernameAvailability',\r\n    async ( {getState} ) =>{\r\n        const {Registration_username} = getState().authentication;\r\n        if(Registration_username!==''){\r\n            try{\r\n                const response = axios.get('http://localhost:5000/user/availability/'+Registration_username,{withCredentials:true});\r\n                return (await response).data;\r\n            }catch(err){\r\n                return Promise.reject(401);\r\n            }\r\n        }\r\n    }\r\n)\r\nexport const createSeller = createAsyncThunk(\r\n    'seller/create',\r\n    async ( {getState} ) =>{\r\n        const {username, password, name, email, address, phone, owner}=getState().seller;\r\n        const formData = new FormData(); \r\n            formData.append('email',email);\r\n            formData.append('password',password);\r\n            formData.append('name',name);\r\n            formData.append('owner',owner);\r\n            formData.append('username',username);\r\n            formData.append('phone',phone);\r\n            formData.append('image', company_registration);\r\n            \r\n        try{\r\n            const response = axios.post('http://localhost:5000/seller/create',{\r\n                'name' : Registration_name,\r\n                'username' : Registration_username,\r\n                'phone' : Registration_phone,\r\n                'email' : Registration_email,\r\n                'password' : Registration_password,\r\n                'address': Registration_address\r\n            },{withCredentials:true});\r\n            return (await response).data;\r\n        }catch(err){\r\n            return Promise.reject(401);\r\n        }\r\n    }\r\n)\r\n\r\nexport const userDeauth = createAsyncThunk(\r\n    'seller/userDeauth',\r\n    async () =>{\r\n        try{\r\n            const response = await axios.get('http://localhost:5000/auth/signout',{withCredentials:true});\r\n            return response.status;\r\n        }catch(error){\r\n            return Promise.reject(500);\r\n        }\r\n    }\r\n)\r\nconst authenticationSlice = createSlice({\r\n    name:'authentication',\r\n    initialState:{\r\n        email: '',\r\n        password:'',\r\n        confirm_password:'',\r\n        type_of_user:'',\r\n        name:'',\r\n        owner:'',\r\n        username:'',\r\n        phone:'',\r\n        city:'',\r\n\t\tstate:'',\r\n\t\tpincode:'',\r\n\t\taddress_line_1:'',\r\n\t\taddress_line_2:'',\r\n\t\tarea:'',\r\n        company_registration:'',\r\n        registrationError:'',\r\n        passwordMatch:'',\r\n        criteriaError:'',\r\n        availability:'NaN'\r\n        \r\n    },\r\n    reducers:{\r\n        setValue:(state,action)=>{\r\n            state[action.payload.name] = action.payload.value;\r\n        },setFile:(state, action)=>{\r\n            state[action.payload.name] = action.payload.value;\r\n        },setpasswordMatch:(state, action)=>{\r\n            state.passwordMatch = action.payload.value;\r\n        },setcriteriaError:(state, action)=>{\r\n            state.criteriaError = action.payload.value;\r\n        },setavailability:(state, action)=>{\r\n            state.availability = action.payload.value;\r\n        },\r\n    },\r\n    extraReducers:{\r\n        [userAuth.fulfilled]:(state, action)=>{\r\n            console.log(action)\r\n            state.user=action.payload.user;\r\n            state.links=action.payload.links;\r\n            console.log(state);\r\n            state.isAuthenticated=true;\r\n            return action.payload.status;\r\n        },[userAuth.rejected]:(state, action)=>{\r\n            state.error = true;\r\n        },[userDeauth.fulfilled]:(state,action)=>{\r\n            state.isAuthenticated=false;\r\n            state.user=action.payload.user;\r\n            state.links=action.payload.links;\r\n            return action.payload.status;\r\n        },[userDeauth.rejected]:(state, action)=>{\r\n            return action.payload;\r\n        },[createCustomer.fulfilled]:(state, action)=>{\r\n            state.isAuthenticated=true;\r\n            state.user=action.payload.user;\r\n            state.links=action.payload.links;\r\n            return action.payload.status;\r\n        },[createCustomer.rejected]:(state, action)=>{\r\n            state.registrationError = true;\r\n        },[checkUsernameAvailability.fulfilled]:(state, action)=>{\r\n            state.availability = action.payload;\r\n        },[checkUsernameAvailability.rejected]:(state,action)=>{\r\n            state.availability = false;\r\n        }\r\n    }\r\n})\r\nexport const {setValue, setFile, setavailability, setpasswordMatch, setcriteriaError}=authenticationSlice.actions;\r\nexport default authenticationSlice.reducer;"]},"metadata":{},"sourceType":"module"}