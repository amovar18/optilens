{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const checkUsernameAvailability = createAsyncThunk('seller/checkUsernameAvailability', async ({\n  getState\n}) => {\n  const {\n    username\n  } = getState().seller;\n\n  if (username !== '') {\n    try {\n      const response = axios.get('http://localhost:5000/seller/availability/' + username, {\n        withCredentials: true\n      });\n      return (await response).data;\n    } catch (err) {\n      return Promise.reject(401);\n    }\n  }\n});\nexport const createSeller = createAsyncThunk('seller/create', async formData => {\n  try {\n    for (var key of formData.entries()) {\n      console.log(key[0] + ', ' + key[1]);\n    }\n\n    const response = axios.post('http://localhost:5000/seller/create', {\n      data: formData\n    }, {\n      Headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      withCredentials: true\n    });\n    return (await response).data;\n  } catch (err) {\n    return Promise.reject(401);\n  }\n});\nconst sellerSlice = createSlice({\n  name: 'seller',\n  initialState: {\n    email: '',\n    password: '',\n    confirm_password: '',\n    name: '',\n    owner: '',\n    username: '',\n    phone: '',\n    city: '',\n    state: '',\n    pincode: '',\n    address_line_1: '',\n    address_line_2: '',\n    area: '',\n    registrationError: '',\n    passwordMatch: 'NaN',\n    criteriaError: 'NaN',\n    availability: 'NaN'\n  },\n  reducers: {\n    setValue: (state, action) => {\n      state[action.payload.name] = action.payload.value;\n    },\n    setpasswordMatch: (state, action) => {\n      state.passwordMatch = action.payload;\n    },\n    setcriteriaError: (state, action) => {\n      state.criteriaError = action.payload;\n    }\n  },\n  extraReducers: {\n    [createSeller.fulfilled]: (state, action) => {\n      console.log(action);\n      state.user = action.payload.user;\n      state.links = action.payload.links;\n      console.log(state);\n      state.isAuthenticated = true;\n      return action.payload.status;\n    },\n    [createSeller.rejected]: (state, action) => {\n      state.error = true;\n    },\n    [checkUsernameAvailability.fulfilled]: (state, action) => {\n      state.availability = action.payload;\n    },\n    [checkUsernameAvailability.rejected]: (state, action) => {\n      state.availability = false;\n    }\n  }\n});\nexport const {\n  setValue,\n  setpasswordMatch,\n  setcriteriaError\n} = sellerSlice.actions;\nexport default sellerSlice.reducer;","map":{"version":3,"sources":["C:/Users/Geeta/opticonnect/frontend/src/slices/seller/sellerSlice.js"],"names":["createAsyncThunk","createSlice","axios","checkUsernameAvailability","getState","username","seller","response","get","withCredentials","data","err","Promise","reject","createSeller","formData","key","entries","console","log","post","Headers","sellerSlice","name","initialState","email","password","confirm_password","owner","phone","city","state","pincode","address_line_1","address_line_2","area","registrationError","passwordMatch","criteriaError","availability","reducers","setValue","action","payload","value","setpasswordMatch","setcriteriaError","extraReducers","fulfilled","user","links","isAuthenticated","status","rejected","error","actions","reducer"],"mappings":"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","sourcesContent":["import {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nexport const checkUsernameAvailability = createAsyncThunk(\r\n    'seller/checkUsernameAvailability',\r\n    async ( {getState} ) =>{\r\n        const {username} = getState().seller;\r\n        if(username!==''){\r\n            try{\r\n                const response = axios.get('http://localhost:5000/seller/availability/'+username,{withCredentials:true});\r\n                return (await response).data;\r\n            }catch(err){\r\n                return Promise.reject(401);\r\n            }\r\n        }\r\n    }\r\n)\r\nexport const createSeller = createAsyncThunk(\r\n    'seller/create',\r\n    async ( formData ) =>{        \r\n        try{\r\n            for (var key of formData.entries()) {\r\n                console.log(key[0] + ', ' + key[1]);\r\n            }\r\n            const response = axios.post('http://localhost:5000/seller/create',{data:formData}\r\n            ,{Headers:{'Content-Type':'multipart/form-data'},withCredentials:true});\r\n            return (await response).data;\r\n        }catch(err){\r\n            return Promise.reject(401);\r\n        }\r\n    }\r\n)\r\nconst sellerSlice = createSlice({\r\n    name:'seller',\r\n    initialState:{\r\n        email: '',\r\n        password:'',\r\n        confirm_password:'',\r\n        name:'',\r\n        owner:'',\r\n        username:'',\r\n        phone:'',\r\n        city:'',\r\n\t\tstate:'',\r\n\t\tpincode:'',\r\n\t\taddress_line_1:'',\r\n\t\taddress_line_2:'',\r\n\t\tarea:'',\r\n        registrationError:'',\r\n        passwordMatch:'NaN',\r\n        criteriaError:'NaN',\r\n        availability:'NaN'\r\n        \r\n    },\r\n    reducers:{\r\n        setValue:(state,action)=>{\r\n            state[action.payload.name] = action.payload.value;\r\n        },setpasswordMatch:(state, action)=>{\r\n            state.passwordMatch = action.payload;\r\n        },setcriteriaError:(state, action)=>{\r\n            state.criteriaError = action.payload;\r\n        }\r\n    },\r\n    extraReducers:{\r\n        [createSeller.fulfilled]:(state, action)=>{\r\n            console.log(action)\r\n            state.user=action.payload.user;\r\n            state.links=action.payload.links;\r\n            console.log(state);\r\n            state.isAuthenticated=true;\r\n            return action.payload.status;\r\n        },[createSeller.rejected]:(state, action)=>{\r\n            state.error = true;\r\n        },[checkUsernameAvailability.fulfilled]:(state, action)=>{\r\n            state.availability = action.payload;\r\n        },[checkUsernameAvailability.rejected]:(state,action)=>{\r\n            state.availability = false;\r\n        }\r\n    }\r\n})\r\nexport const {setValue, setpasswordMatch, setcriteriaError}=sellerSlice.actions;\r\nexport default sellerSlice.reducer;"]},"metadata":{},"sourceType":"module"}