{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Geeta\\\\opticonnect\\\\frontend\\\\src\\\\components\\\\yorders.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Loadingspinner from './Loadingspinner';\nimport Alert from './alert';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Yorders extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      transaction: [],\n      fetched: 'loading'\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'GET',\n      url: 'http://localhost:5000/transaction/',\n      withCredentials: true\n    }).then(response => {\n      this.setState({\n        fetched: true\n      });\n      this.setState({\n        transaction: response.data\n      });\n    }, error => {\n      this.setState({\n        fetched: false\n      });\n\n      if (error) {\n        if (error.response.status === 401) {\n          window.location = 'http:localhost:3000/logout';\n        } else {}\n      }\n    });\n  }\n\n  render() {\n    console.log(this.state);\n\n    if (this.state.fetched === 'loading') {\n      return /*#__PURE__*/_jsxDEV(Loadingspinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this);\n    } else if (this.state.fetched === true) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col align-self-center\",\n            children: this.state.transaction.length !== 0 ? this.state.transaction.map(t => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card text-dark bg-light mb-3\",\n                style: {\n                  'maxWidth': '18rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: [\"Order ID: \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: '/yorders/' + t._id,\n                    children: t._id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 45,\n                    columnNumber: 52\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [\"Date and time of transaction: \", t.date]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 47,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: t.products.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 48,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 10\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(Alert, {\n              message: \"No purchases made yet!\",\n              type: \"danger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col align-self-center\",\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            message: \"Internal server error\",\n            type: \"danger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}\n\nexport default Yorders;","map":{"version":3,"sources":["C:/Users/Geeta/opticonnect/frontend/src/components/yorders.js"],"names":["React","axios","Loadingspinner","Alert","Link","Yorders","Component","constructor","props","state","transaction","fetched","componentDidMount","method","url","withCredentials","then","response","setState","data","error","status","window","location","render","console","log","length","map","t","_id","date","products"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Loadingspinner from './Loadingspinner';\r\nimport Alert from './alert';\r\nimport {Link} from 'react-router-dom';\r\nclass Yorders extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\ttransaction:[],\r\n\t\t\tfetched:'loading'\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\taxios({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: 'http://localhost:5000/transaction/',\r\n\t\t\twithCredentials:true,\r\n\t\t  }).then((response) => {\r\n\t\t\t  \tthis.setState({fetched:true});\t\r\n\t\t\t\tthis.setState({transaction:response.data});\r\n\t\t  }, (error) => {\r\n\t\t\t\tthis.setState({fetched:false});\r\n\t\t\t  \tif(error){\r\n\t\t\t\t\tif(error.response.status===401){\r\n\t\t\t\t\t\twindow.location='http:localhost:3000/logout';\r\n\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t}\r\n\t\t\t  }\r\n\t\t  });\r\n\t}\r\n\trender(){\r\n\t\tconsole.log(this.state)\r\n\t\tif(this.state.fetched==='loading'){\r\n\t\t\treturn(<Loadingspinner/>);\r\n\t\t}else if(this.state.fetched===true){\r\n\t\t\treturn (\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<div className='row '>\r\n\t\t\t\t\t\t<div className='col align-self-center'>\r\n\t\t\t\t\t\t\t{this.state.transaction.length !==0 ?this.state.transaction.map((t)=>{\r\n\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<div className=\"card text-dark bg-light mb-3\" style={{'maxWidth': '18rem'}}>\r\n\t  \t\t\t\t\t\t\t\t\t<div className=\"card-header\">Order ID: <Link to={'/yorders/'+t._id}>{t._id}</Link></div>\r\n  \t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"card-text\">Date and time of transaction: {t.date}</p>\r\n    \t\t\t\t\t\t\t\t\t\t<p className=\"card-text\">{t.products.length}</p>\r\n\t  \t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}):<Alert message='No purchases made yet!' type='danger'/>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn (\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col align-self-center'>\r\n\t\t\t\t\t\t<Alert message='Internal server error' type='danger'/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Yorders;\r\n"]},"metadata":{},"sourceType":"module"}