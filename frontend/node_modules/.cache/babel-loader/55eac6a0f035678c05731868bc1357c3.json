{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Geeta\\\\opticonnect\\\\frontend\\\\src\\\\components\\\\productdisplay.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Enterprescription from './enterprescription';\nimport Carousel from './carousel';\nimport Alert from './alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProductDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      rsign: '0',\n      lsign: '0',\n      resph: 0,\n      reax: 0,\n      recyl: 0,\n      readd: 0,\n      lesph: 0,\n      leax: 0,\n      lecyl: 0,\n      leadd: 0,\n      product: [],\n      shopname: [],\n      error: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/cart/addtocart',\n      withCredentials: true,\n      data: {\n        'id': this.props.match.params.productId,\n        'lens_details': {\n          rsign: this.state.rsign,\n          lsign: this.state.lsign,\n          resph: this.state.resph,\n          reax: this.state.reax,\n          recyl: this.state.recyl,\n          readd: this.state.readd,\n          lesph: this.state.lesph,\n          leax: this.state.leax,\n          lecyl: this.state.lecyl,\n          leadd: this.state.leadd\n        }\n      }\n    }).then(response => {}).catch(error => {\n      if (error !== undefined) {\n        if (error.response.status === 400) {\n          this.setState({\n            error: 'Cannot have products from 2 different sellers'\n          });\n        } else if (error.response.status === 403) {\n          this.setState({\n            error: 'First Login then add products'\n          });\n        }\n      }\n    });\n  }\n\n  handleChange(name, value) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  componentDidMount() {\n    const fetchproduct = () => {\n      axios({\n        method: 'GET',\n        url: 'http://localhost:5000/product/getsingle?id=' + this.props.match.params.productId,\n        withCredentials: true\n      }).then(response => {\n        this.setState({\n          product: response.data\n        });\n        this.setState({\n          shopname: response.data[0]['shop']\n        });\n      }, error => {\n        alert(error);\n      });\n    };\n\n    fetchproduct();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: this.state.product.length !== 0 && this.state.shopname.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-contents-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm align-self-center\",\n          children: /*#__PURE__*/_jsxDEV(Carousel, {\n            images: this.state.product[0]['image']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"display-6\",\n                children: this.state.product[0]['productname']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [\"Brand: \", /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: this.state.product[0]['brand']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [\"Sold by: \", /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: this.state.shopname[0]['shopname']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: this.state.product[0]['price']\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [console.log(this.state), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: this.state.product[0]['productdescription']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Enterprescription, {\n            onhandleChange: this.handleChange,\n            lens: this.state,\n            handleSubmit: this.handleSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }, this), this.state.error !== '' ? /*#__PURE__*/_jsxDEV(Alert, {\n            message: this.state.error,\n            type: \"danger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 30\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default ProductDisplay;","map":{"version":3,"sources":["C:/Users/Geeta/opticonnect/frontend/src/components/productdisplay.js"],"names":["React","axios","Enterprescription","Carousel","Alert","ProductDisplay","Component","constructor","props","state","id","rsign","lsign","resph","reax","recyl","readd","lesph","leax","lecyl","leadd","product","shopname","error","handleChange","bind","handleSubmit","event","preventDefault","method","url","withCredentials","data","match","params","productId","then","response","catch","undefined","status","setState","name","value","componentDidMount","fetchproduct","alert","render","length","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Enterprescription from './enterprescription';\r\nimport Carousel from './carousel';\r\nimport Alert from './alert';\r\nclass ProductDisplay extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\tid:'',\r\n\t\t\trsign:'0',\r\n\t\t\tlsign:'0',\r\n\t\t\tresph:0,\r\n\t\t\treax:0,\r\n\t\t\trecyl:0,\r\n\t\t\treadd:0,\r\n\t\t\tlesph:0,\r\n\t\t\tleax:0,\r\n\t\t\tlecyl:0,\r\n\t\t\tleadd:0,\r\n\t\t\tproduct:[],\r\n\t\t\tshopname:[],\r\n\t\t\terror:''\r\n\t\t}\r\n\t\tthis.handleChange=this.handleChange.bind(this);\r\n\t\tthis.handleSubmit=this.handleSubmit.bind(this);\r\n\t}\r\n\thandleSubmit(event){\r\n\t\tevent.preventDefault();\r\n\t\taxios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: 'http://localhost:5000/cart/addtocart',\r\n\t\t\twithCredentials: true,\r\n\t\t\tdata:{\r\n\t\t\t\t'id':this.props.match.params.productId,\r\n\t\t\t\t'lens_details':{\r\n\t\t\t\t\trsign:this.state.rsign,\r\n\t\t\t\t\tlsign:this.state.lsign,\r\n\t\t\t\t\tresph:this.state.resph,\r\n\t\t\t\t\treax:this.state.reax,\r\n\t\t\t\t\trecyl:this.state.recyl,\r\n\t\t\t\t\treadd:this.state.readd,\r\n\t\t\t\t\tlesph:this.state.lesph,\r\n\t\t\t\t\tleax:this.state.leax,\r\n\t\t\t\t\tlecyl:this.state.lecyl,\r\n\t\t\t\t\tleadd:this.state.leadd,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).then((response) => {\r\n\t\t}).catch((error) => {\r\n\t\t\tif(error!==undefined){\r\n\t\t\t\tif(error.response.status===400){\r\n\t\t\t\t\tthis.setState({error:'Cannot have products from 2 different sellers'});\r\n\t\t\t\t}else if(error.response.status===403){\r\n\t\t\t\t\tthis.setState({error:'First Login then add products'});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\thandleChange(name, value){\r\n\t\tthis.setState({[name]:value});\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst fetchproduct = () => {\r\n\t\t\taxios({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: 'http://localhost:5000/product/getsingle?id='+this.props.match.params.productId,\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t  }).then((response) => {\r\n\t\t\t\tthis.setState({product:response.data});\r\n\t\t\t\tthis.setState({shopname:response.data[0]['shop']});\r\n\t\t\t  }, (error) => {\r\n\t\t\t\t\talert(error);\r\n\t\t\t  });\r\n\t   };\r\n\t\tfetchproduct();\r\n\t}\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t{this.state.product.length!==0 && this.state.shopname.length!==0?\r\n\t\t\t\t<div className='row justify-contents-start'>\r\n\t\t\t\t\t<div className='col-sm align-self-center'>\r\n\t\t\t\t\t\t<Carousel images={this.state.product[0]['image']}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-sm'>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<small className='text-muted'><h1 className='display-6'>{this.state.product[0]['productname']}</h1></small> \r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6>Brand: <small className='text-muted'>{this.state.product[0]['brand']}</small></h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6>Sold by: <small className='text-muted'>{this.state.shopname[0]['shopname']}</small></h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6>Price: <small className='text-muted'>{this.state.product[0]['price']}</small></h6>\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{console.log(this.state)}\r\n\t\t\t\t\t\t\t<h6>{this.state.product[0]['productdescription']}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Enterprescription onhandleChange={this.handleChange} lens={this.state} handleSubmit={this.handleSubmit}/>\t\r\n\t\t\t\t\t\t{this.state.error!==''?<Alert message={this.state.error} type='danger'/>:null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>:null}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ProductDisplay;\r\n"]},"metadata":{},"sourceType":"module"}