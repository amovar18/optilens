{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const productSort = createAsyncThunk('product/Sort', async (_, _ref) => {\n  let {\n    getState,\n    rejectWithValue\n  } = _ref;\n  const {\n    type,\n    price,\n    sort,\n    current_page\n  } = getState().product;\n\n  try {\n    const response = await axios.get('https://opticonnect-backend.herokuapp.com/product/sort/' + type + '/' + price + '/' + sort + '/' + current_page, {\n      withCredentials: true\n    });\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nexport const productGetSingle = createAsyncThunk('porduct/productGetSingle', async (id, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    const response = await axios.get('https://opticonnect-backend.herokuapp.com/product/getsingle/' + id, {\n      withCredentials: true,\n      data: {\n        'pid': id\n      }\n    });\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nexport const productGet = createAsyncThunk('product/productGet', async (_, _ref3) => {\n  let {\n    getState,\n    rejectWithValue\n  } = _ref3;\n  const {\n    type,\n    current_page,\n    price,\n    sort\n  } = getState().product;\n\n  try {\n    const response = await axios.get('https://opticonnect-backend.herokuapp.com/product/sort/' + type + '/' + price + '/' + sort + '/' + current_page, {\n      withCredentials: true\n    });\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nexport const productAdd = createAsyncThunk('product/productAdd', async (formData, _ref4) => {\n  let {\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    await axios({\n      method: 'POST',\n      url: 'https://opticonnect-backend.herokuapp.com/product/create',\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      data: formData\n    }).then(response => {\n      return response.data;\n    });\n  } catch (error) {\n    return rejectWithValue(error.response);\n  }\n});\nconst productSlice = createSlice({\n  name: 'product',\n  initialState: {\n    products: [],\n    singleProduct: [],\n    shopname: [],\n    total_pages: 0,\n    current_page: 1,\n    sort: 'NAN',\n    type: 'all',\n    price: 'NAN',\n    fetcherror: '',\n    productname: '',\n    productprice: 0,\n    producttype: 'spectacles',\n    productdescription: '',\n    brand: '',\n    stored: false\n  },\n  reducers: {\n    setValue: (state, action) => {\n      state[action.payload.name] = action.payload.value;\n    }\n  },\n  extraReducers: {\n    [productSort.fulfilled]: (state, action) => {\n      state.products = action.payload;\n    },\n    [productGetSingle.fulfilled]: (state, action) => {\n      state.singleProduct = action.payload[0];\n      state.shopname = action.payload[0]['shop'][0];\n    },\n    [productGet.fulfilled]: (state, action) => {\n      state.products = action.payload;\n    },\n    [productAdd.fulfilled]: (state, action) => {\n      state.stored = false;\n    },\n    [productAdd.rejected]: (state, action) => {\n      state.stored = false;\n    },\n    [productAdd.pending]: (state, action) => {\n      state.stored = true;\n    }\n  }\n});\nexport const {\n  setValue\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"sources":["/Users/amogha18/optilens/src/slices/product/productSlice.js"],"names":["createAsyncThunk","createSlice","axios","productSort","_","getState","rejectWithValue","type","price","sort","current_page","product","response","get","withCredentials","data","error","productGetSingle","id","productGet","productAdd","formData","method","url","headers","then","productSlice","name","initialState","products","singleProduct","shopname","total_pages","fetcherror","productname","productprice","producttype","productdescription","brand","stored","reducers","setValue","state","action","payload","value","extraReducers","fulfilled","rejected","pending","actions","reducer"],"mappings":"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","sourcesContent":["import {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const productSort = createAsyncThunk(\n    'product/Sort',\n    async (_, { getState , rejectWithValue})=>{\n        const {type, price, sort, current_page} = getState().product;\n        try{\n            const response = await axios.get('https://opticonnect-backend.herokuapp.com/product/sort/'+type+'/'+price+'/'+sort+'/'+current_page,{withCredentials:true});\n            return response.data;\n        }catch(error){\n            return rejectWithValue(error.response);\n        }\n    }\n)\nexport const productGetSingle = createAsyncThunk(\n    'porduct/productGetSingle',\n    async (id ,{ rejectWithValue})=>{\n        try{\n            const response = await axios.get('https://opticonnect-backend.herokuapp.com/product/getsingle/'+id,{withCredentials:true,data:{'pid':id}});\n            return response.data;\n        }catch(error){\n            return rejectWithValue(error.response)\n        }\n    }\n)\nexport const productGet = createAsyncThunk(\n    'product/productGet',\n    async (_, { getState , rejectWithValue})=>{\n        const {type, current_page, price, sort} = getState().product;\n        try{\n            const response = await axios.get('https://opticonnect-backend.herokuapp.com/product/sort/'+type+'/'+price+'/'+sort+'/'+current_page,{withCredentials:true});\n            return response.data;\n        }catch(error){\n            return rejectWithValue(error.response);\n        }    \n    }\n)\nexport const productAdd = createAsyncThunk(\n    'product/productAdd',\n    async (formData, { rejectWithValue })=>{\n        try{\n            await axios({\n                method:'POST',\n                url:'https://opticonnect-backend.herokuapp.com/product/create',\n                withCredentials:true,\n                headers:{'Content-Type':'multipart/form-data'},\n                data:formData\n            }).then((response)=>{\n                return response.data;\n            });\n            \n        }catch(error){\n            return rejectWithValue(error.response);\n        }\n    }\n)\nconst productSlice = createSlice({\n    name:'product',\n    initialState:{\n        products:[],\n        singleProduct:[],\n        shopname:[],\n        total_pages:0,\n        current_page:1,\n        sort:'NAN',\n        type:'all',\n        price:'NAN',\n        fetcherror:'',\n\n        productname:'',\n        productprice:0,\n        producttype:'spectacles',\n        productdescription:'',\n        brand:'',\n        stored:false\n    },\n    reducers:{\n        setValue:(state, action)=>{\n            state[action.payload.name] = action.payload.value;\n        }\n    },\n    extraReducers:{\n        [productSort.fulfilled]:(state, action)=>{\n            state.products = action.payload;\n        },[productGetSingle.fulfilled]:(state,action)=>{\n            state.singleProduct = action.payload[0];\n            state.shopname = action.payload[0]['shop'][0];\n        },[productGet.fulfilled]:(state, action)=>{\n            state.products=action.payload;\n        },[productAdd.fulfilled]:(state, action)=>{\n            state.stored = false;\n        },[productAdd.rejected]:(state, action)=>{\n            state.stored = false;\n        },[productAdd.pending]:(state, action)=>{\n            state.stored = true;\n        }\n    }\n\n})\nexport const {setValue} = productSlice.actions;\nexport default productSlice.reducer;"]},"metadata":{},"sourceType":"module"}